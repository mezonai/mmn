# This file controls the behavior of Trunk: https://docs.trunk.io/cli
# To learn more about the format of this file, see https://docs.trunk.io/reference/trunk-yaml
version: 0.1
cli:
  version: 1.25.0

# Trunk provides extensibility via plugins. (https://docs.trunk.io/plugins)
plugins:
  sources:
    - id: trunk
      ref: v1.7.3
      uri: https://github.com/trunk-io/plugins

# Many linters and tools depend on runtimes - configure them here. (https://docs.trunk.io/runtimes)
runtimes:
  enabled:
    - go@1.24.0
    - node@22.16.0
    - python@3.10.8

# This is the section where you manage your linters. (https://docs.trunk.io/check/configuration)
lint:
  disabled:
    - hadolint
    - shellcheck
    - checkov
    - osv-scanner
    - actionlint
  enabled:
    # Security and vulnerability scanning
    - trufflehog@3.90.8

    # Git and version control
    - git-diff-check

    # Golang linters and formatters (optimized configuration)
    - gofmt@1.24.0:
        commands: [format]
    - goimports@1.24.0:
        commands: [format]
    - golangci-lint2@2.5.0:
        commands: [lint]
        config:
          config_file: .golangci.yaml

    # Docker and containerization
    - markdownlint@0.45.0

    # Code formatting and style
    - prettier@3.6.2

    # Shell scripting
    - shfmt@3.6.0
  ignore:
    - linters:
        - prettier
        - shfmt
        - markdownlint
        - gofmt
        - goimports
        - golangci-lint2
      paths:
        - client_test/**
        - mezon-migration/**
